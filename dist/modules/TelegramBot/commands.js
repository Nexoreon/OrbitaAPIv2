"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.handleNotifications = exports.handleShowCommands = void 0;
/* eslint-disable max-len */
const configurationModel_1 = __importDefault(require("../../models/configurationModel"));
const TelegramBot_1 = __importDefault(require("../../utils/TelegramBot"));
const handleShowCommands = async (chatId) => {
    TelegramBot_1.default.sendMessage(chatId, `
    /help - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ 
    /check_streamers - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö —Å—Ç—Ä–∏–º–µ—Ä–æ–≤
    /check_games - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö –∏–≥—Ä
    /get_latest_report - –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç
    /control_notifications - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π`);
};
exports.handleShowCommands = handleShowCommands;
const handleNotifications = async (chatId) => {
    const config = await configurationModel_1.default.findOne({ appId: 1 });
    const { enableCrashNotifications, enableSendingNotifications, enableTGBotNotifications } = config.settings;
    TelegramBot_1.default.sendMessage(chatId, `
    Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: ${enableTGBotNotifications ? 'üü©' : 'üü•'}
    Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: ${enableSendingNotifications ? 'üü©' : 'üü•'}
    –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∫—Ä–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: ${enableCrashNotifications ? 'üü©' : 'üü•'}
        `, {
        parse_mode: 'HTML',
        reply_markup: {
            inline_keyboard: [
                [{ text: `${enableTGBotNotifications ? '–í—ã–∫–ª—é—á–∏—Ç—å' : '–í–∫–ª—é—á–∏—Ç—å'} —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram`, callback_data: '/settings_notifications_tg' }],
                [
                    { text: `${enableSendingNotifications ? '–í—ã–∫–ª—é—á–∏—Ç—å' : '–í–∫–ª—é—á–∏—Ç—å'} push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è`, callback_data: '/settings_notifications_push' },
                    { text: `${enableCrashNotifications ? '–í—ã–∫–ª—é—á–∏—Ç—å' : '–í–∫–ª—é—á–∏—Ç—å'} —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∫—Ä–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è`, callback_data: '/settings_notifications_crash' },
                ],
            ],
        },
    });
};
exports.handleNotifications = handleNotifications;
